/*
========================================================================================
    Nextflow config file for testing PRODUCTION-SCALE run
========================================================================================
    Tests a full production-scale run with 1 protein binder design using realistic
    parameters to validate the complete workflow with production settings.
    
    This profile tests:
    - Full production run with 10,000 intermediate designs
    - Budget of 10 final diversity-optimized designs
    - Realistic compute resources for GPU-accelerated design
    - Complete metrics pipeline (ProteinMPNN, ipSAE, PRODIGY)
    - Production-ready parameter configuration
    
    Use as follows:
        nextflow run main.nf -profile test_production,docker

----------------------------------------------------------------------------------------
*/

params {
    config_profile_name        = 'Test profile - Production Scale'
    config_profile_description = 'Production-scale test with EGFR (1IVO) protein binder using realistic parameters'

    // Production-level resources
    // These settings reflect realistic requirements for a full design run
    max_cpus   = 8
    max_memory = '32.GB'
    max_time   = '24.h'
    max_gpus   = 1

    // Input data - design mode with production parameters
    input       = "${projectDir}/assets/test_data/samplesheet_production_test.csv"
    mode        = 'design'
    
    // NOTE: Production parameters (protocol=protein-anything, num_designs=10000, budget=10) 
    // are specified in the samplesheet file (samplesheet_production_test.csv) for explicit
    // per-sample control. This ensures the test validates a complete production workflow
    // with realistic computational demands and output volumes.
    
    // Enable all metrics modules for comprehensive production validation
    run_proteinmpnn            = true
    mpnn_num_seq_per_target    = 8     // Full default for production evaluation
    run_ipsae                  = true
    run_prodigy                = true
    run_consolidation          = true
    
    // Output
    outdir      = './results_test_production'
}
